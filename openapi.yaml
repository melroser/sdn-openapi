openapi: 3.1.0
info:
  title: OFAC SDN JSON Wrapper API (Netlify)
  version: 1.0.0
  description: >
    Unofficial JSON wrapper for OFAC Sanctions List Service exports. Data source is OFAC SLS exports.
servers:
  - url: https://YOUR-SITE.netlify.app
paths:
  /api/meta:
    get:
      summary: Dataset metadata
      responses:
        "200":
          description: OK
  /api/search:
    get:
      summary: Fuzzy search SDN entities by name/AKA
      parameters:
        - in: query
          name: q
          required: true
          schema: { type: string }
        - in: query
          name: limit
          required: false
          schema: { type: integer, default: 20, maximum: 50 }
      responses:
        "200":
          description: OK
        "400":
          description: Missing query
  /api/entity/{uid}:
    get:
      summary: Get entity details by UID (ent_num)
      parameters:
        - in: path
          name: uid
          required: true
          schema: { type: string }
      responses:
        "200":
          description: OK
        "404":
          description: Not found
  /api/update:
    post:
      summary: (Optional) Trigger refresh manually
      description: >
        This endpoint exists if you deploy the scheduled function as an HTTP function too.
        If you want it locked down, require a shared secret header.
      responses:
        "200":
          description: OK
